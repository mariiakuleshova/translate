# 8.3.1.1.Что мы подразумеваем под обрезанием ветвей?

Когда-то в компьютерном бизнесе мы должны делать метафоры, чтобы помочь объяснить людям как что-то работает. Возможно, вы помните «метафору рабочего стола», которую Apple и позже Windows приняли, чтобы помочь объяснить операционные системы. Иногда мы просто запускаем простые метафоры, такие как мусорное ведро для удаления файлов, или «Clippy», ассистент для скрепления бумаг.

Вы можете чувствовать, что я ухожу с концами в метафору, когда я говорю об обрезке вашего деревья решений. Что дальше, удобрения и древесные шипы? На самом деле, обрезка является критической концепцией в системах типа дерева решений. Каждая ветвь в вашем дереве может привести к сотням или тысячам других ветвей. Если вы можете сразу решить, что эта ветвь бесполезна, вы можете отключить ее и вам не нужно будет обрабатывать какие-либо другие ветви или листья, которые следуют за этой ветвью. Так вы быстрее можете обнаружить, что этот путь не приводит вас к цели, вы сокращаете время и усилия, задействованные в создании решения.

Давайте пробежимся по быстрому примеру. Одним из отличных вариантов использования дерева решений является FDIR \(обнаружение неисправностей, изоляция и восстановление\). Это типичная функция робота. Давайте сделаем дерево решений для FDIR в случае, если наш робот Tinman не движется. Какие автоматизированные шаги мы могли бы предпринять, чтобы обнаружить ошибку, изолировать проблему, а затем устранить ее?

Одним из методов, который мы можем использовать, является анализ первопричин, где мы пытаемся выяснить нашу проблему с помощью систематического перечисления всех возможных проблем, а затем будем устранять \(сокращать\) факторы, вызывающие совпадающие симптомы.

Мы будем использовать специальную форму дерева решений, называемую диаграммой «рыбья кость» \(«рыбий скелет»\), или диаграмма Исикава. Эта диаграмма названа в честь ее изобретателя, профессора Каору Исикава из Токийского университета. В его статье 1968 года «Руководство по контролю качества» диаграмма рыбий скелет названная так из-за ее формы, у нее есть центральный позвоночник и ребра, выступающие с обеих сторон. Я знаю, что метафоры становятся еще глубже, когда мы рассматриваем «дерево» решений в форме «рыбы».

Теперь у нас начинаются проблемы. Помните, что в роботе проблема является симптомом, а не причиной. Наша проблема: робот не двигается. Что может вызвать эту проблему? Давайте сделаем список:

·        Система привода

·        Программное обеспечение

·        Система связи

·        Аккумулятор и проводка

·        Датчики

·        Операционная ошибка

Теперь для каждого элемента из списка мы подразделяем наши ветвь этого элемента на более мелкие ветви. Какие части системы привода может привести к тому, что робот не сможет двигаться? Колеса могут застрять. Двигатели могут не получать достаточной мощности. Гусеницы могли отвалиться. Моторный двигатель мог перегреться.

Вот моя диаграмма «рыбий скелет» для проблемы движения робота:

![](../../../.gitbook/assets/image%20%281%29.png)

Вы можете рассмотреть, какими будут симптомы проблемы для каждой из причин. Если гусеницы отвалились, ведущие колеса все равно будут вращаться, но гусеницы не будет двигаться. Чтобы робот не двигался, обе гусеницы должны быть затронуты. Если мы можем проверить любой из этих фактов, мы можем сократить или исключить гусеницы из нашей диаграммы или дерева решений. Мы проверяем гусеницы, и ведущие колеса не двигаются, поэтому гусеницы не причина. Мы подрезаем эту ветку.

Как насчет батареи? Аккумулятор может нуждаться в зарядке \(разряженный аккумулятор\), аккумулятор может быть отключен, или может быть ослаблен провод питания. Проверяем напряжение батареи – это все в порядке, убираем этот лист с дерева. Проверяем проводку - ничего не болтается. Ветвь батареи обрезается.

И так мы продолжаем до тех пор, пока не получим то, что, либо соответствует всем нашим симптомам, либо пока не останется последний вариант. Допустим, последняя ветвь была связь. Что теперь? Мы спрашиваем: «Какие параметры связи помешали бы нам двигаться? Наш первый ответ – моторные командные сообщения не доходят до нашего робота по сети. Мы проверяем журнал, и посмотрите, действительно, никаких моторных сообщений нет \(cmd\_vel, в нашем случае\). Это наша проблема, а что ее вызвало? Сеть может быть повреждена \(проверено - нет, сеть работает\), IP-адрес может быть неправильным \(нет, все в порядке\). Мы смотрим, были ли сделаны какие-либо недавние изменения для программного обеспечения управления, и действительно были. Вернемся к предыдущей версии, и увидим, что робот двигается. У нас была проблема и мы использовали дерево решений для ее решения.

Таким образом, в этом случае мы почти полностью решили нашу проблему, обрезав ветви и листья с нашего дерева, до тех пор, пока мы не достигли цели или остался всего один путь решения.

Как мы можем обрезать ветки в программном обеспечении? Мы можем искать тупики. Тупики - это листья – конечные части дерева, не имеющие продолжения в виде ветвей. Когда мы заходим в тупик, мы можем не только обрезать этот лист, но и части пути, которые ведут исключительно к этому листу. Это обратный подход к обрезке, так как мы начинаем с конца и работаем в обратном направлении.

Мы также можем видеть разделы дерева, которые не используются, или на которые никогда не ссылаются или их никогда не вызывают. Мы можем удалить целые разделы таким образом. Это прямая обрезка, потому что мы пересекаем дерево в прямом направлении, от начала к концу.

